<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Arcane Divination ¬∑ Tarot Reading</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Cinzel:wght@400;600;700;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0a0612;
      --panel: #120a1f;
      --muted: #9b8fb8;
      --text: #e8e4f0;
      --brand: #d946ef;
      --brand-2: #f59e0b;
      --accent: #10b981;
      --ring: 0 0 0 2px rgba(217,70,239,.35);
      --shadow: 0 10px 40px rgba(217,70,239,.25);
      --glow: 0 0 20px rgba(217,70,239,.4);
      --glass: rgba(139,92,246,.08);
      --glass-brd: rgba(139,92,246,.25);
    }
    [data-theme="light"]{
      --bg: #faf8fc;
      --panel: #ffffff;
      --muted: #6b5c8a;
      --text: #1e1433;
      --brand: #a855f7;
      --brand-2: #f59e0b;
      --accent: #059669;
      --shadow: 0 8px 30px rgba(168,85,247,.15);
      --glow: 0 0 15px rgba(168,85,247,.2);
      --glass: rgba(168,85,247,.05);
      --glass-brd: rgba(168,85,247,.15);
    }

    *{box-sizing:border-box; margin:0; padding:0}
    html,body{height:100%}
    body{
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: 
        radial-gradient(ellipse 1400px 900px at 90% -15%, rgba(217,70,239,.18), transparent 55%),
        radial-gradient(ellipse 1000px 700px at 10% 100%, rgba(245,158,11,.15), transparent 50%),
        var(--bg);
      color:var(--text); line-height:1.6; letter-spacing:.2px;
      background-attachment: fixed; padding:20px;
    }

    .container{max-width:1000px; margin:0 auto}

    .header{text-align:center; padding:40px 20px 20px}
    .header h1{
      font-family:'Cinzel', serif; font-size:clamp(32px, 5vw, 48px);
      background:linear-gradient(120deg, var(--brand), var(--brand-2), var(--accent));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      margin-bottom:8px; font-weight:900;
    }
    .header p{color:var(--muted); font-size:16px}

    .back-btn{
      display:inline-flex; align-items:center; gap:8px; padding:10px 16px;
      background:var(--glass); border:1px solid var(--glass-brd); border-radius:12px;
      color:var(--text); text-decoration:none; transition:all .2s ease;
      font-weight:500; margin-bottom:20px;
    }
    .back-btn:hover{border-color:var(--brand); transform:translateY(-2px); box-shadow:var(--shadow)}

    .reading-selector{
      display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
      gap:16px; margin:24px 0;
    }
    .spread-card{
      background:linear-gradient(135deg, rgba(139,92,246,.08), rgba(245,158,11,.06));
      border:1px solid var(--glass-brd); border-radius:18px; padding:18px;
      cursor:pointer; transition:all .3s ease; text-align:center;
    }
    .spread-card:hover{
      transform:translateY(-5px); border-color:var(--brand);
      box-shadow:0 15px 45px rgba(217,70,239,.35);
    }
    .spread-card.active{
      border-color:var(--brand); background:linear-gradient(135deg, rgba(139,92,246,.15), rgba(245,158,11,.1));
    }
    .spread-icon{font-size:44px; margin-bottom:10px}
    .spread-title{font-family:'Cinzel', serif; font-size:18px; font-weight:700; margin-bottom:6px}
    .spread-desc{font-size:13px; color:var(--muted)}

    .btn{
      display:inline-flex; align-items:center; gap:10px; padding:14px 28px;
      background:linear-gradient(135deg, var(--brand), var(--brand-2));
      border:none; border-radius:14px; color:#fff; font-size:16px;
      font-weight:600; cursor:pointer; transition:all .3s ease;
      box-shadow:var(--shadow); margin:18px auto; font-family:'Cinzel', serif;
    }
    .btn:hover{transform:translateY(-3px); box-shadow:0 15px 50px rgba(217,70,239,.5)}
    .btn:active{transform:translateY(-1px)}
    .btn:disabled{opacity:.5; cursor:not-allowed; transform:none}

    .cards-container{
      display:flex; justify-content:center; gap:20px; flex-wrap:wrap;
      margin:30px 0; min-height:260px; align-items:center;
    }

    .tarot-card{
      width:160px; height:260px; perspective:1000px; cursor:pointer;
    }
    .card-inner{
      width:100%; height:100%; position:relative; transition:transform .8s;
      transform-style:preserve-3d;
    }
    .tarot-card.flipped .card-inner{transform:rotateY(180deg)}
    
    .card-face{
      position:absolute; width:100%; height:100%; backface-visibility:hidden;
      border-radius:14px; display:flex; flex-direction:column; align-items:center;
      justify-content:center; padding:18px; border:2px solid var(--glass-brd);
      box-shadow:var(--shadow);
    }
    .card-back{
      background:linear-gradient(135deg, rgba(139,92,246,.2), rgba(245,158,11,.15));
      backdrop-filter:blur(10px);
    }
    .card-back::before{
      content:'üîÆ'; font-size:72px; opacity:.6;
    }
    .card-front{
      background:linear-gradient(135deg, var(--panel), rgba(18,10,31,.95));
      transform:rotateY(180deg); text-align:center; color:var(--text);
      display:flex; flex-direction:column; justify-content:center; align-items:center;
    }
    .card-emoji{font-size:56px; margin-bottom:12px; transition:transform .6s}
    .card-name{
      font-family:'Cinzel', serif; font-size:14px; font-weight:700;
      margin-bottom:6px; color:var(--brand-2); text-align:center;
    }
    .card-meaning{font-size:12px; color:var(--muted); line-height:1.4; min-height:34px}

    .interpretation{
      background:linear-gradient(135deg, rgba(139,92,246,.12), rgba(245,158,11,.1));
      border:1px solid var(--glass-brd); border-radius:18px; padding:22px;
      margin:28px 0; backdrop-filter:blur(10px); box-shadow:var(--shadow);
      opacity:0; transform:translateY(20px); transition:all .6s ease;
    }
    .interpretation.show{opacity:1; transform:translateY(0)}
    .interpretation h2{
      font-family:'Cinzel', serif; font-size:22px; margin-bottom:12px;
      color:var(--brand-2);
    }
    .card-detail{
      margin:14px 0; padding:16px; background:rgba(0,0,0,.12);
      border-radius:12px; border-left:4px solid var(--brand);
    }
    .card-detail h3{
      font-family:'Cinzel', serif; font-size:16px; color:var(--brand);
      margin-bottom:8px; display:flex; align-items:center; gap:10px;
    }
    .card-detail p{color:var(--text); line-height:1.6}

    .fool-mode{
      background:linear-gradient(135deg, rgba(239,68,68,.12), rgba(217,70,239,.12)) !important;
      border-color:rgba(239,68,68,.35) !important;
      animation:foolPulse 2s infinite;
    }
    @keyframes foolPulse{
      0%, 100%{box-shadow:0 0 20px rgba(239,68,68,.25)}
      50%{box-shadow:0 0 40px rgba(239,68,68,.45), 0 0 60px rgba(217,70,239,.3)}
    }

    .praise{
      font-size:clamp(22px, 3.2vw, 32px); font-family:'Cinzel', serif;
      text-align:center; font-weight:900; margin:30px 0;
      background:linear-gradient(90deg, #ef4444, #d946ef, #f59e0b);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      animation:shimmer 3s infinite;
    }
    @keyframes shimmer{
      0%{filter:hue-rotate(0deg) brightness(1.15)}
      100%{filter:hue-rotate(360deg) brightness(1.15)}
    }

    .reversed-badge{
      margin-top:8px; font-size:12px; color:#fff; background:rgba(0,0,0,.25);
      padding:6px 8px; border-radius:10px; border:1px solid rgba(255,255,255,.06);
      display:inline-block;
    }

    .sparkle{
      position:fixed; left:50%; top:40%; transform:translate(-50%,-50%); pointer-events:none;
      width:220px; height:220px; border-radius:50%; background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.08), transparent 30%),
        radial-gradient(circle at 70% 70%, rgba(217,70,239,.06), transparent 35%);
      opacity:0; transition:opacity .5s ease, transform .6s ease;
      z-index:1000;
    }
    .sparkle.show{opacity:1; transform:translate(-50%,-50%) scale(1.05)}

    @media (max-width: 640px){
      .cards-container{gap:12px}
      .tarot-card{width:130px; height:210px}
      .spread-icon{font-size:36px}
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html" class="back-btn">‚Üê Return to Grimoire</a>
    
    <div class="header">
      <h1>üîÆ Arcane Divination</h1>
      <p>Let the mystical cards reveal your destiny ‚Äî choose a spread, then draw.</p>
    </div>

    <div class="reading-selector" role="tablist" aria-label="Reading Type">
      <div class="spread-card active" data-spread="single" role="tab" tabindex="0">
        <div class="spread-icon">üÉè</div>
        <div class="spread-title">Single Card</div>
        <div class="spread-desc">Quick insight into your question</div>
      </div>
      <div class="spread-card" data-spread="three" role="tab" tabindex="0">
        <div class="spread-icon">üé¥</div>
        <div class="spread-title">Three Card</div>
        <div class="spread-desc">Past, Present, Future</div>
      </div>
      <div class="spread-card" data-spread="celtic" role="tab" tabindex="0">
        <div class="spread-icon">‚ú®</div>
        <div class="spread-title">Celtic Cross</div>
        <div class="spread-desc">Deep, comprehensive reading (simplified)</div>
      </div>
      <div class="spread-card" data-spread="detailed" role="tab" tabindex="0">
        <div class="spread-icon">üúÉ</div>
        <div class="spread-title">Detailed</div>
        <div class="spread-desc">Includes Minor Arcana and reversals</div>
      </div>
    </div>

    <center>
      <button class="btn" id="drawBtn" aria-pressed="false">‚ú® Divine Your Fate ‚ú®</button>
    </center>

    <div class="cards-container" id="cardsContainer" aria-live="polite"></div>
    <div class="interpretation" id="interpretation" aria-live="polite"></div>
    <div class="sparkle" id="sparkle"></div>
  </div>

  <script>
    // Major Arcana with richer descriptions (upright)
    const majorArcana = [
      {name: 'The Fool', emoji: 'üÉè', meaning: 'New beginnings, innocence, spontaneity, free spirit', detail: 'A threshold moment: The Fool stands poised at the edge of the map, heart open to possibility. This card invites you to take creative risks, embrace uncertainty, and begin a journey with wonder rather than fear.'},
      {name: 'The Magician', emoji: 'üîÆ', meaning: 'Manifestation, resourcefulness, inspired action', detail: 'The Magician reminds you that your will and creativity are instruments of change. Focus your attention, gather your resources, and shape the world through deliberate action and confident skill.'},
      {name: 'The High Priestess', emoji: 'üåô', meaning: 'Intuition, sacred knowledge, inner depth', detail: 'A silent pool of wisdom: the High Priestess invites you inward to listen for truths that do not speak in words. Dreams, synchronicities, and the language of symbols are your guides.'},
      {name: 'The Empress', emoji: 'üëë', meaning: 'Fertility, abundance, nurturing, creativity', detail: 'A warm, fertile field of possibility. The Empress encourages tending, cultivating, and celebrating life: projects, relationships, and art that grow through care and tenderness.'},
      {name: 'The Emperor', emoji: 'üõ°Ô∏è', meaning: 'Authority, structure, leadership, discipline', detail: 'Structure shapes freedom. The Emperor calls for steady boundaries, strategic planning, and responsible leadership. Build the foundations that let ambition stand tall.'},
      {name: 'The Hierophant', emoji: 'üìø', meaning: 'Wisdom, tradition, mentorship, rites', detail: 'Sought for counsel and communal wisdom, the Hierophant connects you to lineage, ritual, and learning. Seek teachers, honor practice, and allow traditions to inform your path without constraining your spirit.'},
      {name: 'The Lovers', emoji: 'üíï', meaning: 'Union, values, alignment, choices', detail: 'Beyond romance, the Lovers asks you to align with what matters most. Decisions formed from love ‚Äî to oneself and others ‚Äî will steer the course. Commit with clarity to what resonates with your true values.'},
      {name: 'The Chariot', emoji: 'üèá', meaning: 'Victory, focus, drive, control', detail: 'Momentum through will: harness opposing forces and steer them toward a single goal. The Chariot rewards discipline, courage, and a steady hand on the reins of progress.'},
      {name: 'Strength', emoji: 'ü¶Å', meaning: 'Courage, compassion, resilience', detail: 'True power is gentle. Strength teaches you to tame impulses with compassion, face adversity without cruelty, and draw courage from patience rather than force.'},
      {name: 'The Hermit', emoji: 'üïØÔ∏è', meaning: 'Introspection, solitude, inner guidance', detail: 'A lantern in personal darkness: retreat to examine motives, harvest insight, and answer the quiet questions only solitude can make clear. Wisdom arrives slowly and quietly.'},
      {name: 'Wheel of Fortune', emoji: 'üé°', meaning: 'Cycles, fate, turning points, opportunity', detail: 'The tide of circumstance turns. Fortune reminds you that change is inevitable; meet it with flexible strategy and awareness of the wider pattern that shapes your moments.'},
      {name: 'Justice', emoji: '‚öñÔ∏è', meaning: 'Truth, fairness, accountability', detail: 'Balance restored through clarity. Justice invites fairness, precise judgement, and acceptance of cause and effect. Act with integrity; the ledger will reflect your intent.'},
      {name: 'The Hanged Man', emoji: 'üôÉ', meaning: 'Pause, surrender, new perspective', detail: 'A deliberate suspension that reframes the scene. By yielding control and seeing from a fresh angle, what seemed stuck can reveal a passage forward.'},
      {name: 'Death', emoji: 'üíÄ', meaning: 'Transformation, endings, renewal', detail: 'Not literal demise but essential clearing: Death prepares the soil for new growth. Release attachments, let old roles fall away, and allow rebirth to proceed without clinging.'},
      {name: 'Temperance', emoji: '‚öóÔ∏è', meaning: 'Balance, synthesis, healing', detail: 'Alchemy of life: Temperance blends opposites, invites middle paths, and nurtures healing through moderation. Patience and small adjustments lead to harmony.'},
      {name: 'The Devil', emoji: 'üòà', meaning: 'Shadow, attachment, temptation', detail: 'Confront the bonds that feel comfortable but limiting. The Devil exposes patterns of compulsion and invites you to reclaim agency by naming what keeps you chained.'},
      {name: 'The Tower', emoji: 'üè∞', meaning: 'Upheaval, revelation, release', detail: 'A sudden, unavoidable dismantling that clears illusions. Though jarring, the Tower‚Äôs destruction makes room for truths that will sustain the next stage.'},
      {name: 'The Star', emoji: '‚≠ê', meaning: 'Hope, renewal, guidance', detail: 'A clear night sky after storm: The Star brings healing, renewed faith, and a soft guidance toward dreams. Trust in slow recovery and gentle guidance from the universe.'},
      {name: 'The Moon', emoji: 'üåï', meaning: 'Mystery, subconscious, uncertainty', detail: 'Shadows lengthen here. The Moon urges you to investigate fears and fantasies; honor your imagination but test assumptions before acting on them.'},
      {name: 'The Sun', emoji: '‚òÄÔ∏è', meaning: 'Vitality, success, clarity', detail: 'Radiant accomplishment and lucidity. The Sun celebrates realized energy, warmth in relationships, and a clarity that makes the path forward visible.'},
      {name: 'Judgement', emoji: 'üé∫', meaning: 'Reckoning, awakening, calling', detail: 'A summons to evaluate the past and answer a deeper call. Judgement is rebirth through honest reckoning and the courage to follow newfound purpose.'},
      {name: 'The World', emoji: 'üåç', meaning: 'Completion, fulfillment, integration', detail: 'A cycle fulfilled and lessons gathered. The World marks accomplishment, synthesis, and the readiness to step into a larger journey with the wisdom gained.'}
    ];

    // Minimal Minor Arcana generator (upright templates + court)
    const suits = [
      {name: 'Wands', emoji: 'üî•', theme: 'inspiration, creativity, will'},
      {name: 'Cups', emoji: 'üíß', theme: 'emotions, relationships, intuition'},
      {name: 'Swords', emoji: '‚öîÔ∏è', theme: 'thought, clarity, conflict'},
      {name: 'Pentacles', emoji: 'üèµÔ∏è', theme: 'material, work, practical matters'}
    ];

    const rankMeanings = {
      'Ace': 'new seed of its suit ‚Äî a fresh impulse or opportunity',
      'Two': 'duality, decision, balance between options',
      'Three': 'early growth and the first fruits of collaboration',
      'Four': 'stability, consolidation, plateau that asks for reinvigoration',
      'Five': 'conflict, challenge, testing of skill or will',
      'Six': 'victory, reciprocity, support returned',
      'Seven': 'defense of position, perseverance in the face of odds',
      'Eight': 'movement, swift change, skillful progress',
      'Nine': 'maturity, nearing completion, resilience',
      'Ten': 'culmination, carrying the burden or reward of a cycle',
      'Page': 'a messenger, curiosity, the start of an apprenticeship',
      'Knight': 'a driving force, pursuit, or a mission in motion',
      'Queen': 'mature feminine energy, mastery of the suit\'s realm',
      'King': 'authority over the suit\'s domain, leadership, stewardship'
    };

    function buildMinorArcana(){
      const minor = [];
      suits.forEach(s => {
        Object.keys(rankMeanings).forEach(rank => {
          const name = `${rank} of ${s.name}`;
          const emoji = s.emoji;
          const meaning = `${rankMeanings[rank]} in the realm of ${s.theme}.`;
          const detail = `This card speaks to ${s.theme} ‚Äî ${rankMeanings[rank]}. Read it as a practical clue: where the ${s.name.toLowerCase()} energy flows in your life.`;
          minor.push({name, emoji, meaning, detail, suit: s.name, rank});
        });
      });
      return minor;
    }

    const minorArcana = buildMinorArcana();

    // Combine major deck for basic spreads
    let readingCount = 0;
    let currentSpread = 'single';
    let foolMode = false;

    // UI selections
    document.querySelectorAll('.spread-card').forEach(card => {
      card.addEventListener('click', () => {
        document.querySelectorAll('.spread-card').forEach(c => c.classList.remove('active'));
        card.classList.add('active');
        currentSpread = card.dataset.spread;
        document.getElementById('cardsContainer').innerHTML = '';
        document.getElementById('interpretation').classList.remove('show');
      });
    });

    // utility: pick random from array
    const rand = arr => arr[Math.floor(Math.random() * arr.length)];

    // Invert a meaning for a quick reversed interpretation (simple heuristic)
    function reversedAppend(card){
      // Provide a short reversed phrase that plays against the upright meaning
      const rev = {
        'New beginnings': 'hesitation or lack of readiness',
        'Manifestation': 'blocked will or scattered focus',
        'Intuition': 'closed-off inner voice or ignored instincts',
        'Fertility': 'creative block or neglect',
        'Authority': 'rigidity or misused power',
        'Wisdom': 'dogma without insight',
        'Union': 'disharmony or difficult choice',
        'Victory': 'loss of direction, reckless force',
        'Courage': 'self-doubt or uncontrolled impulse',
        'Introspection': 'isolation or unwillingness to reflect',
        'Cycles': 'resistance to change or unlucky streak',
        'Truth': 'bias or evasion of responsibility',
        'Suspension': 'stuckness or unwilling sacrifice',
        'Transformation': 'fear of change or clinging to death',
        'Balance': 'excess or imbalance',
        'Shadow': 'succumbing to temptation or bondage',
        'Upheaval': 'turmoil without lesson',
        'Hope': 'naive optimism or delayed healing',
        'Mystery': 'illusion tipping into fear',
        'Joy': 'egoic pride or temporary success',
        'Reckoning': 'avoidance of responsibility',
        'Completion': 'restlessness after success'
      };

      // match card by name in majors; otherwise construct a generic reversed note for minors
      const m = majorArcana.find(m => m.name === card.name);
      if(m){
        const key = Object.keys(rev).find(k => m.detail.startsWith(k) || m.meaning.startsWith(k)) || Object.keys(rev)[Math.floor(Math.random()*Object.keys(rev).length)];
        const text = rev[key] ? `Reversed: ${rev[key]}.` : 'Reversed: a blocked or inverted expression of this card‚Äôs energy.';
        return text;
      }
      // minor arcana reversed generic
      return 'Reversed: the suit‚Äôs energy is delayed, internalized, or requires a new approach.';
    }

    // Draw handler
    document.getElementById('drawBtn').addEventListener('click', () => {
      readingCount++;
      // Keep the original activation logic for Fool mode ‚Äî unchanged
      const shouldActivateFool = readingCount % (3 + Math.floor(Math.random() * 3)) === 0;
      foolMode = shouldActivateFool;

      const container = document.getElementById('cardsContainer');
      const interpretation = document.getElementById('interpretation');
      const sparkle = document.getElementById('sparkle');

      container.innerHTML = '';
      interpretation.innerHTML = '';
      interpretation.classList.remove('show');
      sparkle.classList.remove('show');

      let numCards;
      let positions;

      if(currentSpread === 'single'){
        numCards = 1;
        positions = ['Your Answer'];
      } else if(currentSpread === 'three'){
        numCards = 3;
        positions = ['Past', 'Present', 'Future'];
      } else if(currentSpread === 'celtic'){
        numCards = 5; // simplified Celtic cross
        positions = ['Present', 'Challenge', 'Past', 'Future', 'Outcome'];
      } else {
        // detailed: more cards
        numCards = 5;
        positions = ['Present', 'Obstacle', 'Advice', 'Near Future', 'Outcome'];
      }

      // choose deck
      let fullDeck = [];
      if(currentSpread === 'detailed'){
        fullDeck = [...majorArcana, ...minorArcana];
      } else {
        fullDeck = [...majorArcana];
      }

      // Draw cards, with reversals if using detailed
      const drawnCards = [];
      for(let i=0;i<numCards;i++){
        let card;
        if(foolMode){
          // When blessed by the Fool, still draw the Fool for theatrical effect
          card = majorArcana[0]; // The Fool is first in the majors array
        } else {
          card = rand(fullDeck);
        }

        // determine reversed only on detailed spread (user asked for reversals option)
        let reversed = false;
        if(currentSpread === 'detailed'){
          reversed = Math.random() < 0.35; // 35% chance reversed
        }

        drawnCards.push({...card, position: positions[i], reversed});
      }

      // Display cards in the container with a reveal animation
      drawnCards.forEach((card, index) => {
        const cardEl = document.createElement('div');
        cardEl.className = 'tarot-card';
        // add a dataset marker for later styling
        cardEl.dataset.name = card.name;
        cardEl.innerHTML = `
          <div class="card-inner">
            <div class="card-face card-back" aria-hidden="true"></div>
            <div class="card-face card-front ${foolMode ? 'fool-mode' : ''}">
              <div class="card-emoji" aria-hidden="true">${card.emoji}</div>
              <div class="card-name">${card.name}</div>
              <div class="card-meaning">${card.meaning}</div>
              ${card.reversed ? `<div class="reversed-badge">‚Üª Reversed</div>` : ''}
            </div>
          </div>
        `;

        // Append with a stagger
        setTimeout(() => {
          container.appendChild(cardEl);
          // flip to reveal
          setTimeout(() => {
            cardEl.classList.add('flipped');
            // if reversed visually, rotate the emoji/text slightly (upside-down feel)
            if(card.reversed){
              const front = cardEl.querySelector('.card-front');
              const emoji = cardEl.querySelector('.card-emoji');
              // small rotation on the symbol to suggest inversion
              emoji.style.transform = 'rotate(180deg)';
            }
          }, 120);
        }, index * 260);
      });

      // After reveal, show interpretation
      setTimeout(() => {
        if(foolMode){
          // Modified content: references Lord of the Mysteries theme and tone (keeps event logic)
          interpretation.innerHTML = `
            <div class="praise">üÉè BLESSED BY THE FOOL üÉè</div>
            <p style="text-align:center; font-size:17px; color:var(--muted); font-style:italic;">
              "The Fool smiles at the theatre of secrets ‚Äî a laugh that echoes across corridors of occult inquiry."
            </p>
            <div class="card-detail">
              <h3>üåë The Fool's Revelation</h3>
              <p>The Fool has touched your reading with uncanny mirth. The atmosphere thickens: conspiracies, ritual theatre, and clandestine insight‚Äî echoes familiar to readers of Lord of the Mysteries ‚Äî swirl at the edge of the veil.
              Symbols may rearrange themselves like actors on a stage; a detective‚Äôs curiosity and an occultist‚Äôs patience will both serve you now. Embrace the paradox: comedy and apocalypse, initiation and mockery, all braided by that genial smile.</p>
              <p style="margin-top:8px; color:var(--muted);">Extra effects: expect weightier synchronicities in the next 48 hours ‚Äî coincidences that feel scripted, a sudden clue in a stranger‚Äôs phrase, or an inexplicable sense of recognition when encountering a symbol or person.</p>
            </div>
          `;
          // show subtle sparkle for theatrical effect
          sparkle.classList.add('show');
          setTimeout(()=> sparkle.classList.remove('show'), 2400);
        } else {
          let html = '<h2>‚ú® Your Reading</h2>';
          drawnCards.forEach(card => {
            let detail = card.detail || '';
            if(card.reversed){
              // append a generated reversed line
              detail += ' ' + reversedAppend(card);
            }
            html += `
              <div class="card-detail">
                <h3>${card.emoji} ${card.position}: ${card.name}${card.reversed ? ' (Reversed)' : ''}</h3>
                <p>${detail}</p>
              </div>
            `;
          });
          interpretation.innerHTML = html;
          // small celebratory sparkle when a full detailed reading is used
          if(currentSpread === 'detailed'){
            sparkle.classList.add('show');
            setTimeout(()=> sparkle.classList.remove('show'), 1600);
          }
        }
        interpretation.classList.add('show');
      }, numCards * 300 + 680);
    });

    // Accessibility: allow spread-card selection with Enter/Space
    document.querySelectorAll('.spread-card').forEach(card => {
      card.addEventListener('keydown', (e) => {
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          card.click();
        }
      });
    });
  </script>
</body>
</html>
